<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3학년 2반 행복한 우리 교실</title>
    <!-- Tailwind CSS (스타일링) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts (Noto Sans KR) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome (아이콘) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f3f4f6;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .gradient-text {
            background: linear-gradient(to right, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* 스크롤바 커스텀 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- 네비게이션 바 -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <!-- 로고 -->
                <div class="flex items-center space-x-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <i class="fa-solid fa-graduation-cap text-2xl text-blue-500"></i>
                    <span class="font-bold text-xl text-gray-800">3학년 2반</span>
                </div>

                <!-- 데스크탑 메뉴 -->
                <div class="hidden md:flex space-x-8">
                    <a href="#notice" class="text-gray-600 hover:text-blue-500 font-medium transition">알림장</a>
                    <a href="#schedule" class="text-gray-600 hover:text-blue-500 font-medium transition">시간표/급식</a>
                    <a href="#gallery" class="text-gray-600 hover:text-blue-500 font-medium transition">우리반 앨범</a>
                    <a href="#guestbook" class="text-gray-600 hover:text-blue-500 font-medium transition">한마디</a>
                </div>

                <!-- 모바일 메뉴 버튼 -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-600 hover:text-blue-500 focus:outline-none">
                        <i class="fa-solid fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- 모바일 메뉴 드롭다운 -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <a href="#notice" class="block py-3 px-4 text-gray-600 hover:bg-blue-50">알림장</a>
            <a href="#schedule" class="block py-3 px-4 text-gray-600 hover:bg-blue-50">시간표/급식</a>
            <a href="#gallery" class="block py-3 px-4 text-gray-600 hover:bg-blue-50">우리반 앨범</a>
            <a href="#guestbook" class="block py-3 px-4 text-gray-600 hover:bg-blue-50">한마디</a>
        </div>
    </nav>

    <!-- 히어로 섹션 (메인 배너) -->
    <div class="bg-blue-50 border-b border-blue-100">
        <div class="max-w-6xl mx-auto px-4 py-12 md:py-20 text-center">
            <span class="inline-block py-1 px-3 rounded-full bg-blue-100 text-blue-600 text-sm font-semibold mb-4">2024학년도 1학기</span>
            <h1 class="text-4xl md:text-5xl font-bold mb-4">행복이 자라나는 <span class="gradient-text">우리 교실</span></h1>
            <p class="text-lg text-gray-600 mb-8">서로 배려하고 존중하며 꿈을 키워가는 3학년 2반 홈페이지입니다.</p>
            <div class="flex justify-center space-x-4">
                <div class="bg-white p-4 rounded-lg shadow-sm flex items-center space-x-3">
                    <div class="bg-yellow-100 p-2 rounded-full text-yellow-600"><i class="fa-solid fa-sun"></i></div>
                    <div class="text-left">
                        <p class="text-xs text-gray-500">오늘의 날씨</p>
                        <p class="font-bold text-sm">맑음 24°C</p>
                    </div>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm flex items-center space-x-3">
                    <div class="bg-green-100 p-2 rounded-full text-green-600"><i class="fa-solid fa-users"></i></div>
                    <div class="text-left">
                        <p class="text-xs text-gray-500">재적 인원</p>
                        <p class="font-bold text-sm">25명</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 메인 컨텐츠 영역 -->
    <div class="max-w-6xl mx-auto px-4 py-10 space-y-12">

        <!-- 1. 알림장 및 주요 공지 -->
        <section id="notice" class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- 공지사항 (왼쪽 2칸 차지) -->
            <div class="lg:col-span-2 glass-card bg-white rounded-xl shadow-sm p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold flex items-center"><i class="fa-solid fa-bullhorn text-blue-500 mr-2"></i> 알림장</h2>
                    <div class="flex space-x-2">
                        <button onclick="switchTab('notice')" id="btn-notice" class="px-3 py-1 bg-blue-500 text-white rounded-md text-sm transition">공지사항</button>
                        <button onclick="switchTab('homework')" id="btn-homework" class="px-3 py-1 bg-gray-200 text-gray-600 rounded-md text-sm hover:bg-gray-300 transition">과제/준비물</button>
                    </div>
                </div>
                
                <!-- 공지사항 리스트 -->
                <div id="content-notice" class="space-y-4">
                    <div class="flex items-start p-3 hover:bg-gray-50 rounded-lg transition border-l-4 border-red-400 bg-white shadow-sm">
                        <div class="mr-4 text-center min-w-[50px]">
                            <span class="block text-red-500 font-bold text-lg">필독</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">현장체험학습 가정통신문 제출 안내</h3>
                            <p class="text-sm text-gray-500 mt-1">이번 주 금요일까지 참가 신청서를 꼭 제출해주세요.</p>
                        </div>
                    </div>
                    <div class="flex items-start p-3 hover:bg-gray-50 rounded-lg transition border-b">
                        <div class="mr-4 text-center min-w-[50px]">
                            <span class="block text-gray-400 text-xs">05.22</span>
                        </div>
                        <div>
                            <h3 class="font-medium text-gray-800">학급 임원 선거 결과 안내</h3>
                            <p class="text-sm text-gray-500 mt-1">새로운 반장, 부반장이 선출되었습니다. 모두 축하해주세요!</p>
                        </div>
                    </div>
                    <div class="flex items-start p-3 hover:bg-gray-50 rounded-lg transition border-b">
                        <div class="mr-4 text-center min-w-[50px]">
                            <span class="block text-gray-400 text-xs">05.20</span>
                        </div>
                        <div>
                            <h3 class="font-medium text-gray-800">도서관 이용 수칙 변경</h3>
                            <p class="text-sm text-gray-500 mt-1">점심시간 도서관 이용 시간이 변경되었습니다.</p>
                        </div>
                    </div>
                </div>

                <!-- 과제 리스트 (초기 숨김) -->
                <div id="content-homework" class="space-y-4 hidden">
                    <div class="flex items-start p-3 hover:bg-gray-50 rounded-lg transition border-l-4 border-blue-400 bg-white shadow-sm">
                        <div class="mr-4 text-center min-w-[50px]">
                            <span class="block text-blue-500 font-bold text-sm">내일까지</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">국어 3단원 마인드맵 그리기</h3>
                            <p class="text-sm text-gray-500 mt-1">교과서 52~55페이지 참고하여 공책에 작성</p>
                        </div>
                    </div>
                    <div class="flex items-start p-3 hover:bg-gray-50 rounded-lg transition border-b">
                        <div class="mr-4 text-center min-w-[50px]">
                            <span class="block text-gray-400 text-sm">다음주</span>
                        </div>
                        <div>
                            <h3 class="font-medium text-gray-800">미술 준비물: 수채화 도구</h3>
                            <p class="text-sm text-gray-500 mt-1">붓, 물통, 팔레트 깨끗하게 씻어서 가져오기</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 오늘의 당번 & 생일 (오른쪽 1칸) -->
            <div class="space-y-6">
                <div class="bg-white rounded-xl shadow-sm p-6 border-t-4 border-green-400">
                    <h2 class="text-lg font-bold mb-4 flex items-center"><i class="fa-solid fa-broom text-green-500 mr-2"></i> 오늘의 당번</h2>
                    <div class="flex items-center justify-between bg-green-50 p-4 rounded-lg">
                        <div class="text-center w-1/2 border-r border-green-200">
                            <span class="text-xs text-gray-500 block mb-1">청소</span>
                            <span class="font-bold text-lg text-gray-800">김철수</span>
                        </div>
                        <div class="text-center w-1/2">
                            <span class="text-xs text-gray-500 block mb-1">우유</span>
                            <span class="font-bold text-lg text-gray-800">이영희</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6 border-t-4 border-pink-400">
                    <h2 class="text-lg font-bold mb-4 flex items-center"><i class="fa-solid fa-cake-candles text-pink-500 mr-2"></i> 5월의 생일</h2>
                    <ul class="space-y-3">
                        <li class="flex items-center justify-between text-sm">
                            <span class="text-gray-600">05.05</span>
                            <span class="font-bold bg-pink-100 text-pink-600 px-2 py-1 rounded">박지민</span>
                        </li>
                        <li class="flex items-center justify-between text-sm">
                            <span class="text-gray-600">05.18</span>
                            <span class="font-bold bg-pink-100 text-pink-600 px-2 py-1 rounded">최민수</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 2. 시간표 & 급식 -->
        <section id="schedule" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- 시간표 -->
            <div class="bg-white rounded-xl shadow-sm p-6">
                <h2 class="text-2xl font-bold mb-6 flex items-center"><i class="fa-regular fa-clock text-purple-500 mr-2"></i> 이번 주 시간표</h2>
                <div class="overflow-x-auto">
                    <table class="w-full text-center text-sm">
                        <thead>
                            <tr class="bg-gray-100 text-gray-600">
                                <th class="py-2 rounded-tl-lg">교시</th>
                                <th class="py-2">월</th>
                                <th class="py-2">화</th>
                                <th class="py-2">수</th>
                                <th class="py-2">목</th>
                                <th class="py-2 rounded-tr-lg">금</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr><td class="py-3 font-bold text-gray-400">1</td><td>국어</td><td>수학</td><td>영어</td><td>과학</td><td>체육</td></tr>
                            <tr><td class="py-3 font-bold text-gray-400">2</td><td>수학</td><td>국어</td><td>체육</td><td>사회</td><td>음악</td></tr>
                            <tr><td class="py-3 font-bold text-gray-400">3</td><td>사회</td><td>과학</td><td>국어</td><td>미술</td><td>수학</td></tr>
                            <tr><td class="py-3 font-bold text-gray-400">4</td><td>과학</td><td>음악</td><td>수학</td><td>미술</td><td>영어</td></tr>
                            <tr class="bg-orange-50"><td class="py-2 font-bold text-orange-400" colspan="6">점심시간</td></tr>
                            <tr><td class="py-3 font-bold text-gray-400">5</td><td>영어</td><td>도덕</td><td>자율</td><td>국어</td><td>실과</td></tr>
                            <tr><td class="py-3 font-bold text-gray-400">6</td><td>체육</td><td>창체</td><td>-</td><td>음악</td><td>동아리</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 오늘의 급식 -->
            <div class="bg-white rounded-xl shadow-sm p-6 flex flex-col">
                <h2 class="text-2xl font-bold mb-4 flex items-center"><i class="fa-solid fa-utensils text-orange-500 mr-2"></i> 오늘의 급식</h2>
                <p class="text-gray-500 text-sm mb-4" id="today-date"></p>
                
                <div class="bg-orange-50 rounded-xl p-6 flex-grow flex flex-col justify-center items-center text-center border border-orange-100">
                    <div class="mb-4">
                        <span class="bg-white text-orange-600 px-3 py-1 rounded-full text-xs font-bold shadow-sm">중식</span>
                    </div>
                    <ul class="space-y-2 font-medium text-lg text-gray-800">
                        <li>친환경 잡곡밥</li>
                        <li>쇠고기 미역국</li>
                        <li>매콤 돼지갈비찜</li>
                        <li>시금치 나물무침</li>
                        <li>배추김치</li>
                        <li class="text-orange-600 font-bold">우리밀 초코 케이크</li>
                    </ul>
                    <p class="mt-6 text-xs text-gray-400">* 학교 사정에 따라 메뉴가 변경될 수 있습니다.</p>
                </div>
            </div>
        </section>

        <!-- 3. 우리반 갤러리 -->
        <section id="gallery" class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-end mb-6">
                <h2 class="text-2xl font-bold flex items-center"><i class="fa-regular fa-images text-indigo-500 mr-2"></i> 우리반 앨범</h2>
                <a href="#" class="text-sm text-blue-500 hover:underline">더보기 ></a>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="group relative overflow-hidden rounded-lg cursor-pointer aspect-square bg-gray-200">
                    <img src="https://images.unsplash.com/photo-1509062522246-3755977927d7?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="현장체험" class="w-full h-full object-cover transition duration-300 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition flex items-center justify-center">
                        <span class="text-white font-bold opacity-0 group-hover:opacity-100">현장체험학습</span>
                    </div>
                </div>
                <div class="group relative overflow-hidden rounded-lg cursor-pointer aspect-square bg-gray-200">
                    <img src="https://images.unsplash.com/photo-1577896851231-70ef18881754?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="체육대회" class="w-full h-full object-cover transition duration-300 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition flex items-center justify-center">
                        <span class="text-white font-bold opacity-0 group-hover:opacity-100">체육대회</span>
                    </div>
                </div>
                <div class="group relative overflow-hidden rounded-lg cursor-pointer aspect-square bg-gray-200">
                    <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="수업시간" class="w-full h-full object-cover transition duration-300 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition flex items-center justify-center">
                        <span class="text-white font-bold opacity-0 group-hover:opacity-100">과학 실험</span>
                    </div>
                </div>
                <div class="group relative overflow-hidden rounded-lg cursor-pointer aspect-square bg-gray-200 flex items-center justify-center border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 transition">
                    <div class="text-center">
                        <i class="fa-solid fa-plus text-2xl text-gray-400 mb-2"></i>
                        <p class="text-sm text-gray-500">사진 올리기</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. 한마디 (방명록) -->
        <section id="guestbook" class="bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl shadow-lg p-8 text-white">
            <h2 class="text-2xl font-bold mb-6 flex items-center"><i class="fa-regular fa-comment-dots mr-2"></i> 친구들에게 한마디</h2>
            
            <div class="bg-white/10 backdrop-blur-md rounded-lg p-6 mb-6">
                <div class="flex gap-2">
                    <input type="text" id="guest-name" placeholder="이름" class="bg-white/20 border-none text-white placeholder-blue-100 rounded px-3 py-2 w-1/4 focus:outline-none focus:ring-2 focus:ring-white">
                    <input type="text" id="guest-msg" placeholder="친구들에게 하고 싶은 말을 남겨보세요 (예: 주말 잘 보내!)" class="bg-white/20 border-none text-white placeholder-blue-100 rounded px-3 py-2 flex-grow focus:outline-none focus:ring-2 focus:ring-white" onkeypress="if(event.key==='Enter') addMessage()">
                    <button onclick="addMessage()" class="bg-white text-blue-600 font-bold px-6 py-2 rounded hover:bg-blue-50 transition shadow-md">등록</button>
                </div>
            </div>

            <div id="message-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- 자바스크립트로 메시지가 추가되는 영역 -->
            </div>
        </section>

    </div>

    <!-- 푸터 -->
    <footer class="bg-gray-800 text-gray-400 py-8 mt-12">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="mb-2">OO초등학교 3학년 2반</p>
            <p class="text-sm">Copyright © 2024 Our Happy Class. All rights reserved.</p>
            <div class="flex justify-center space-x-4 mt-4">
                <a href="#" class="hover:text-white transition">학교 홈페이지</a>
                <span class="text-gray-600">|</span>
                <a href="#" class="hover:text-white transition">선생님께 메일보내기</a>
                <span class="text-gray-600">|</span>
                <a href="#" class="hover:text-white transition">개인정보처리방침</a>
            </div>
        </div>
    </footer>

    <!-- 알림 메시지 (Toast) -->
    <div id="toast" class="fixed bottom-5 right-5 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-lg transform translate-y-20 transition-transform duration-300 flex items-center z-50">
        <i class="fa-solid fa-circle-check text-green-400 mr-2"></i>
        <span id="toast-message">메시지가 등록되었습니다.</span>
    </div>

    <!-- 스크립트 -->
    <script>
        // 날짜 표시
        const dateElement = document.getElementById('today-date');
        const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
        dateElement.textContent = new Date().toLocaleDateString('ko-KR', options);

        // 모바일 메뉴 토글
        const mobileBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // 탭 전환 (공지사항/과제)
        function switchTab(tab) {
            const btnNotice = document.getElementById('btn-notice');
            const btnHomework = document.getElementById('btn-homework');
            const contentNotice = document.getElementById('content-notice');
            const contentHomework = document.getElementById('content-homework');

            if (tab === 'notice') {
                btnNotice.className = "px-3 py-1 bg-blue-500 text-white rounded-md text-sm transition";
                btnHomework.className = "px-3 py-1 bg-gray-200 text-gray-600 rounded-md text-sm hover:bg-gray-300 transition";
                contentNotice.classList.remove('hidden');
                contentNotice.classList.add('fade-in');
                contentHomework.classList.add('hidden');
            } else {
                btnNotice.className = "px-3 py-1 bg-gray-200 text-gray-600 rounded-md text-sm hover:bg-gray-300 transition";
                btnHomework.className = "px-3 py-1 bg-blue-500 text-white rounded-md text-sm transition";
                contentNotice.classList.add('hidden');
                contentHomework.classList.remove('hidden');
                contentHomework.classList.add('fade-in');
            }
        }

        // 방명록 기능 (Local Storage 사용)
        const messageList = document.getElementById('message-list');
        
        // 초기 데이터 (예시)
        let messages = JSON.parse(localStorage.getItem('classMessages')) || [
            { name: "선생님", text: "우리반 모두 환영해요! 즐거운 1년 만들어봐요.", time: "방금 전" },
            { name: "김철수", text: "홈페이지 개설 축하해!!", time: "10분 전" }
        ];

        function renderMessages() {
            messageList.innerHTML = '';
            messages.forEach(msg => {
                const div = document.createElement('div');
                div.className = "bg-white/10 backdrop-blur-sm p-4 rounded-lg border border-white/20 hover:bg-white/20 transition";
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-1">
                        <span class="font-bold text-white">${msg.name}</span>
                        <span class="text-xs text-blue-100 opacity-70">${msg.time}</span>
                    </div>
                    <p class="text-blue-50 text-sm">${msg.text}</p>
                `;
                messageList.prepend(div); // 최신 글이 위로
            });
        }

        function addMessage() {
            const nameInput = document.getElementById('guest-name');
            const msgInput = document.getElementById('guest-msg');
            const name = nameInput.value.trim();
            const text = msgInput.value.trim();

            if (!name || !text) {
                showToast("이름과 내용을 모두 입력해주세요.", true);
                return;
            }

            const newMessage = {
                name: name,
                text: text,
                time: "방금 전"
            };

            messages.push(newMessage);
            // 너무 많이 쌓이면 삭제 (최대 10개 유지)
            if (messages.length > 10) messages.shift(); 
            
            localStorage.setItem('classMessages', JSON.stringify(messages));
            
            renderMessages();
            nameInput.value = '';
            msgInput.value = '';
            showToast("소중한 한마디가 등록되었습니다!");
        }

        // 토스트 메시지 표시
        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            const toastMsg = document.getElementById('toast-message');
            const icon = toast.querySelector('i');

            toastMsg.textContent = message;
            
            if (isError) {
                icon.className = "fa-solid fa-circle-exclamation text-red-400 mr-2";
            } else {
                icon.className = "fa-solid fa-circle-check text-green-400 mr-2";
            }

            toast.classList.remove('translate-y-20');
            setTimeout(() => {
                toast.classList.add('translate-y-20');
            }, 3000);
        }

        // 초기 렌더링
        renderMessages();

    </script>
</body>
</html>
